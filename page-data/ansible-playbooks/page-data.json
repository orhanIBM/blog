{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/ansible-playbooks/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Orhan's Blog"}},"markdownRemark":{"id":"a40ad8bc-6d11-5648-b3d9-02bc9c67bd63","excerpt":"Ansible Playbook is a YAML file that contains set of activities to run on host machine(s). An analogy to a workshop could be, hosts are your raw materialsâ€¦","html":"<p>Ansible Playbook is a YAML file that contains set of activities to run on host machine(s).</p>\n<p>An analogy to a workshop could be, <strong>hosts</strong> are your raw materials, <strong>modules</strong> are the tools in your workshop and <strong>playbooks</strong> are the instruction manual of how to use each <em>module</em> to craft the <em>host</em>.</p>\n<p>A playbook can be as simple as run command on the server and done with it or as complex as provisioning the full web/app servers and db, seting up network connectivity between, adding reverse proxy and load balancers, monitoring connections and updating all with required patches.</p>\n<p>Given an inventory file</p>\n<div class=\"gatsby-highlight\" data-language=\"inventory.ini\"><pre class=\"language-inventory.ini\"><code class=\"language-inventory.ini\"># inventory.ini, after ansible_hosts, variables are just for reference\n[dev]\ndev1 ansible_host=123.x.x.x ansible_user=root\ndev2 ansible_host=123.x.x.x ansible_connection=ssh ansible_port=22\n\n[test]\n...\n[staging]\n...\n[production]\n...\n</code></pre></div>\n<p>The playbook will execute the plays. The example below will install httpd to dev servers stated in the inventory.ini file.</p>\n<div class=\"gatsby-highlight\" data-language=\"playbook.yml\"><pre class=\"language-playbook.yml\"><code class=\"language-playbook.yml\"># playbook.yml\n\n---\n# Play 1\n- name: Update dev\n  hosts: dev\n  remote_user: root \n\n  tasks:\n\n  - name: ensure apache is at the latest version\n    # below is an ansible modules\n    ansible.builtin.yum:\n        name: httpd\n        state: latest\n  \n  - name: Write the apache config file\n    # below is an ansible module\n    ansible.builtin.template:\n        src: /srv/httpd.js\n        dest: /etc/httpd.conf\n\n# Play 2\n- name: Update database servers\n  ...\n    \n</code></pre></div>","frontmatter":{"title":"Ansible Playbooks","date":"December 29, 2021","description":"Oh YAML! Ansible playbooks, what are they and how they work?"}},"previous":{"fields":{"slug":"/ansible-vs-terraform/"},"frontmatter":{"title":"Ansible vs Terraform"}},"next":{"fields":{"slug":"/aws-saa/"},"frontmatter":{"title":"AWS Solutions Architect Associate"}}},"pageContext":{"id":"a40ad8bc-6d11-5648-b3d9-02bc9c67bd63","previousPostId":"7498fc55-77c9-57c0-987f-b5fa0f913b35","nextPostId":"657abf0d-b587-5c75-9526-3f52da465c71"}},
    "staticQueryHashes": ["2841359383","3257411868"]}